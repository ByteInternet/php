--- old/ext/standard/string.c	2007/06/06 21:53:54	1.445.2.14.2.63
+++ new/ext/standard/string.c	2007/07/22 15:55:15	1.445.2.14.2.64
@@ -651,6 +651,11 @@
 
 	if (textlen == 0) {
 		RETURN_EMPTY_STRING();
+	}
+
+	if (breakcharlen == 0) {
+		php_error_docref(NULL TSRMLS_CC, E_WARNING, "Break string cannot be empty");
+		RETURN_FALSE;
 	}
 
 	if (linelength == 0 && docut) {
